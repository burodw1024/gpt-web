<!doctype html>

<html>

<head>

  <meta charset="utf-8" />

  <title>Qdrant Admin</title>

  <style>

    body { font-family: Arial, sans-serif; margin: 24px; }

    .box { border: 1px solid #ddd; padding: 16px; border-radius: 10px; max-width: 980px; }

    .row { margin: 10px 0; }

    .danger { color: #b00020; }

    input[type=text] { padding: 8px; width: 360px; }

    button { padding: 10px 14px; margin-right: 10px; cursor: pointer; }

    .warn { background: #fff3cd; padding: 10px; border-radius: 8px; }

    pre { background: #f7f7f7; padding: 12px; border-radius: 8px; overflow: auto; }

  </style>

</head>

<body>

  <h1>Qdrant Collection Admin</h1>



  <div class="box">

    <div class="row"><b>Qdrant:</b> {{ qdrant_base }}</div>

    <div class="row"><b>Collection:</b> {{ collection }}</div>

    <div class="row"><b>Vector config:</b> size={{ vector_size }}, distance={{ distance }}</div>



    <div class="row warn">

      <b>Warning:</b> Delete/Recreate permanently removes all vectors in the collection.

      To proceed, type the collection name exactly: <b>{{ collection }}</b>

    </div>



    <form method="post" class="row">

      {% csrf_token %}

      <div class="row">

        <label>Confirm collection name:</label><br/>

        <input type="text" name="confirm" placeholder="Type {{ collection }} to confirm" required />

      </div>



      <div class="row">

        <button name="action" value="delete">Delete</button>

        <button name="action" value="create">Create</button>

        <button name="action" value="recreate" class="danger">Recreate (Delete + Create)</button>

      </div>

    </form>



    <h3>Status</h3>

    {% if info %}

      <pre>{{ info|safe }}</pre>

    {% else %}

      <div class="danger">No collection info available (it may not exist yet).</div>

    {% endif %}

  </div>

</body>

</html>

